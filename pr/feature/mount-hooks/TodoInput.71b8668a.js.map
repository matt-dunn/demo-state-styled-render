{"version":3,"sources":["../src/components/Todos/TodoInput.tsx"],"names":[],"mappings":";AAwCO,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,eAAA,EA/BP,IAAA,EAAA,QAAA,4BACA,EAAA,EAAA,QAAA,+BA8BO,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAAA,IAAA,EAAA,EAAA,SAAA,EAAA,GAAA,OAAA,OAAA,eAAA,OAAA,eAAA,EAAA,MAAA,CAAA,MAAA,IAAA,EAAA,IAAA,EAAA,GApBD,EAAS,EAAf,QAEM,EAAgB,EAAO,OAAP,CAAc,IAAA,EAAA,EAAA,CAAA,kQAAA,CAAA,qQAkBvB,EAAY,SAAC,GAAE,IAAA,EAAU,EAAA,WAAE,EAAS,EAAA,UACzC,GAAoB,EAAS,EAAA,UAAA,IAA5B,EAAK,EAAA,GAAE,EAAQ,EAAA,GAChB,GAAQ,EAAgC,EAAA,QAAA,MAU1C,IARM,EAAA,EAAA,WAAA,WACJ,GACF,WAAW,WANV,IAAA,EAOc,QAAb,EAAA,EAAM,eAAO,IAAA,GAAA,EAAE,WAGlB,CAAC,IAEU,WAAV,EACI,MAAA,IAAI,MAAM,iCAIhB,OAAA,EAAC,EAAA,KAAA,EAAD,CACE,SAAU,SAAC,GACT,EAAE,iBACE,EAAM,SACR,EAAW,EAAM,QACjB,EAAS,QAIb,EAEE,EAAA,KAAA,QAAA,KAAA,QAAA,EAAA,EAAA,KAAA,QAAA,CACE,IAAK,EACL,MAAO,EACP,KAAK,OACL,YAAY,eACZ,UAAU,eACV,QAAS,SAAC,GACR,EAAS,EAAE,OAAO,YAIxB,EAAA,EAAA,KAAA,SAAA,CACE,KAAK,SACL,UAAU,kBACV,UAAW,EAAM,QAzBrB,SAjBG,QAAA,UAAA","file":"TodoInput.71b8668a.js","sourceRoot":"../public","sourcesContent":["/** !\n * Copyright (c) 2020, Matt Dunn\n *\n * @author Matt Dunn (https://matt-dunn.github.io/)\n * @licence MIT\n */\n\n/** @jsx jsx **/\n\nimport { jsx, useEffect, useRef, useState } from \"packages/render\";\nimport myStyled from \"packages/myStyled\";\n\nimport { Actions as TodoActions } from \"./duck\";\n\ntype TodoInputProps = {\n  createTodo: TodoActions[\"createTodo\"];\n  autoFocus?: boolean;\n};\n\n// Quick fix to allow stylelint to do it's thing:\nconst styled = myStyled;\n\nconst TodoListForm$ = styled(\"form\")`\n  display: flex;\n  align-items: center;\n  margin-bottom: 0.75rem;\n\n  > label {\n    display: flex;\n    flex-grow: 1;\n    align-items: center;\n    margin: 0;\n  }\n\n  input[type=\"text\"] {\n    width: 100%;\n    margin: 0 0.5rem 0 0.35rem;\n  }\n`;\n\nexport const TodoInput = ({ createTodo, autoFocus }: TodoInputProps) => {\n  const [value, setValue] = useState(\"\");\n  const input = useRef<HTMLInputElement | null>(null);\n\n  useEffect(() => {\n    if (autoFocus) {\n      setTimeout(() => {\n        input.current?.focus();\n      });\n    }\n  }, [autoFocus]);\n\n  if (value === \"error!\") {\n    throw new Error(\"Example boundary caught error\");\n  }\n\n  return (\n    <TodoListForm$\n      onSubmit={(e: any) => {\n        e.preventDefault();\n        if (value.trim()) {\n          createTodo(value.trim());\n          setValue(\"\");\n        }\n      }}\n    >\n      <label>\n        Todo\n        <input\n          ref={input}\n          value={value}\n          type=\"text\"\n          placeholder=\"Add new todo\"\n          className=\"form-control\"\n          onInput={(e: any) => {\n            setValue(e.target.value);\n          }}\n        />\n      </label>\n      <button\n        type=\"submit\"\n        className=\"btn btn-primary\"\n        disabled={!value.trim()}\n      >\n        Add\n      </button>\n    </TodoListForm$>\n  );\n};\n"]}